---
/**
 * Reusable contact card with icon, title, subtitle, and external link styling.
 * Extracted from Contact section where 3 similar cards were defined inline.
 */
import ExternalArrow from "../icons/ExternalArrow.astro";

interface Props {
  href: string;
  title: string;
  subtitle: string;
  isExternal?: boolean;
  class?: string;
  colSpan?: number;
}

const {
  href,
  title,
  subtitle,
  isExternal = false,
  class: className = "",
  colSpan = 1,
} = Astro.props;

const colSpanClass = colSpan === 2 ? "md:col-span-2" : "md:col-span-1";
---

<a
  href={href}
  target={isExternal ? "_blank" : undefined}
  rel={isExternal ? "noopener noreferrer" : undefined}
  class:list={[
    "group block p-8 border border-subtle rounded-2xl",
    "hover:bg-subtle/30 transition-all duration-300 focus-visible:outline-none",
    colSpanClass,
    className,
  ]}
>
  <div class="flex items-center justify-between">
    <div class="flex items-center gap-4">
      <div
        class="text-secondary group-hover:text-accent transition-colors duration-300"
      >
        <slot name="icon" />
      </div>
      <h3
        class="text-subheading text-secondary group-hover:text-accent transition-colors duration-300"
      >
        {title}
      </h3>
    </div>
    <div
      class="opacity-40 group-hover:opacity-100 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-300 text-accent"
    >
      <ExternalArrow class="size-8" />
    </div>
  </div>
  <p
    class="text-body-sm text-label mt-1 group-hover:text-primary transition-colors duration-300 pl-10"
  >
    {subtitle}
  </p>
</a>
